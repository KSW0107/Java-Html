<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="memberList.js"></script>
  <script>
    // <div id="show"></div>
    // 회원 아이디, 이름,  급여, 누적급여
    // $(document).ready(function(){
    //   let table = $('<table />').attr({'border': '1'}).css({'text-align': 'center'});
    //   let tbody = $('<tbody />')
    //   let thead = $('<thead />').append($('<th />').text('아이디'),
    //                                     $('<th />').text('이름'),
    //                                     $('<th />').text('급여'),
    //                                     $('<th />').text('누적급여')).css({'background': 'green','color':'white'})
      
    //   let salarySum = 0;
    //   data.forEach(function(item,idx){
    //     let tr = $('<tr />').append($('<td />').text(item.id),
    //                                 $('<td />').text(item.first_name + '_'+item.last_name),
    //                                 $('<td />').text(item.salary),
    //                                 $('<td />').text(salarySum += item.salary))
    //     $(tbody).append(tr);
    //   })
    //   $(table).append(thead);
    //   $(table).append(tbody);
    //   $('#show').append(table)
    // })
  </script>
  <script>
    console.log(data);

    //배열 메소드 : forEach
    let sum = 0;
    let cnt = 0;
    let avg = 0;
    let result = data.forEach(function (item, idx, ary) {
      // console.log(item)
      if (item.salary > 4000) {
      }

      //salary 4000 이상, female의 급여 합계

      if (item.salary > 3500 && item.gender == 'Female') {
        sum += item.salary;
        cnt++;
      }
    });
    avg = sum / cnt
   
    // map() => 배열의 갯수만큼 새로운 형태의 값을 반환.
    // A -> A'
    result = data.map(function (item) {
      let male = {};
      male.id = item.id;
      male.name = item.first_name + '-' + item.last_name;

      return male;
    });
   
    //filter() => 조건을 만족하는 새로운 배열
    // A -> B
    result = data.filter(function(item){
      return item.gender == "Male";
    });
    

    // reduce() => 반환값이 배열, number, 문자 등 전부 가능
    //a:누적반환값 , b: 현재값
    sum = 0;
    result = data.reduce(function(acc, val, idx, ary){
       return acc + val.salary
    },sum);

    document.addEventListener('DOMContentLoaded', function(){
      // id/name/gender/salary
      result = data.reduce(function(acc, val){
        console.log(acc)
        if(val.gender == "Female"){
          let tr = $('<tr / >').append($('<td / >').text(val.id),
                                       $('<td / >').text(val.first_name +'_'+ val.last_name),
                                       $('<td / >').text(val.gender),
                                       $('<td / >').text(val.salary));
          $(acc).append(tr)
        }
        return acc
      },$('<table />'))
      $('#show').append(result);
      
      //let easyAry = ['one','two','three']
      //reduce 배열의 사용법
      // result = easyAry.reduce(function(acc, val){
      //   console.log(acc, val);
      //   acc.push(val.toUpperCase()); //대문자 변환
      //   return acc;
      // }, []) 
      // console.log(result)

      //태그 추가
    //   result = easyAry.reduce(function(acc, val){
    //   console.log(acc, val);
    //   let p = document.createElement('p');
    //   p.innerText = val;
    //     acc.append(p);

    //   return acc;
    //   }, document.getElementById('show')) // <- 초기값
    //   console.log(result)
    // })

    // result = easyAry.reduce(function(acc, val, idx){
    //   acc += '<tr><td>'+ ++idx +'</td><td>'+val+'</td></tr>'

    //   return acc;
    //   }, "<table border='1'>") // <- 초기값
    //     result += '</table>'
    //   document.getElementById('show').innerHTML = result;

    //slice()
    data = [];
    data.push({id:data.length+1, name:'Apple'});
    data.push({id:data.length+1, name:'Banana'}); //맨마지막에 넣음
    data.unshift({id:data.length+1, name:'Cherry'}); // 맨처음에 넣음
    data.splice(1,0, {id:data.length+1, name:'Melon'}); //1과 0사이에 넣음
    //data.pop(); // 맨마지막 데이터 삭제
    //data.shift(); //맨처음 데이터 삭제
    //data.splice(2,1); // 2에서부터 1개 삭제
    console.clear();
    console.log(data);

    //Array.some()  해당 값이 있는지 확인 t/f 반환 
    result = data.some(function(item){
      return item.name == 'Banana';
    })

    //every() 모든 것이 조건에 맞는지 확인 t/f 반환 
    result = data.every(function(item){
      return item.name.length >= 6;
    })

    //from() 해당 내용을 새로운 배열로 생성
    result = Array.from('abcde');

    //.split() 해당 내용을 구분자 기준으로 새로운 배열로 생성
    //.reverse() 해당 배열의 내용을 반대로 구성
    result = "a,b,c,d,e".split(',').reverse();

    //sort() 배열의 내용 정렬
    data = ['banana','cherry','apple']
    result = data.sort();

    console.clear();
    console.log(result);

    })
    
  </script>
</head>

<body>
  <div id="show"></div>
</body>

</html>